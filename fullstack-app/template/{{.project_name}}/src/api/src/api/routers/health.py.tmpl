from __future__ import annotations

from fastapi import APIRouter

from api.core.config import settings

router = APIRouter(tags=["health"])


@router.get("/health")
async def health_check() -> dict:
    """Health check endpoint with environment details."""
    return {
        "status": "healthy",
        "environment": "deployed" if settings.is_deployed else "local",
        "version": settings.api_version,
    }


@router.get("/")
async def root() -> dict:
    """Root endpoint."""
    return {"message": "{{.project_name}}", "docs": "/docs"}
